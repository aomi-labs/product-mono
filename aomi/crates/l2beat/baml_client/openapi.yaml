###############################################################################
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ openapi-generator generate -i openapi.yaml -g <language> -o <output_dir>
#
###############################################################################

# This file was generated by BAML: please do not edit it. Instead, edit the
# BAML files and re-generate this code.

openapi: 3.0.0
info:
  description: baml-cli serve
  version: 0.1.0
  title: baml-cli serve
servers:
- url: '{address}'
  variables:
    address:
      default: http://localhost:2024
paths:
  /call/AnalyzeABI:
    post:
      requestBody:
        $ref: '#/components/requestBodies/AnalyzeABI'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: AnalyzeABIResponse
                $ref: '#/components/schemas/ABIAnalysisResult'
      operationId: AnalyzeABI
  /call/AnalyzeContractForHandlers:
    post:
      requestBody:
        $ref: '#/components/requestBodies/AnalyzeContractForHandlers'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: AnalyzeContractForHandlersResponse
                $ref: '#/components/schemas/ContractAnalysis'
      operationId: AnalyzeContractForHandlers
  /call/AnalyzeEvent:
    post:
      requestBody:
        $ref: '#/components/requestBodies/AnalyzeEvent'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: AnalyzeEventResponse
                $ref: '#/components/schemas/EventAnalyzeResult'
      operationId: AnalyzeEvent
  /call/AnalyzeLayout:
    post:
      requestBody:
        $ref: '#/components/requestBodies/AnalyzeLayout'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: AnalyzeLayoutResponse
                $ref: '#/components/schemas/LayoutAnalysisResult'
      operationId: AnalyzeLayout
  /call/ExtractResume:
    post:
      requestBody:
        $ref: '#/components/requestBodies/ExtractResume'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: ExtractResumeResponse
                $ref: '#/components/schemas/Resume'
      operationId: ExtractResume
  /call/GenerateForgeScript:
    post:
      requestBody:
        $ref: '#/components/requestBodies/GenerateForgeScript'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: GenerateForgeScriptResponse
                type: string
      operationId: GenerateForgeScript
  /call/GenerateTransactionCalls:
    post:
      requestBody:
        $ref: '#/components/requestBodies/GenerateTransactionCalls'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: GenerateTransactionCallsResponse
                $ref: '#/components/schemas/GeneratedScript'
      operationId: GenerateTransactionCalls
  /call/SummarizeConversation:
    post:
      requestBody:
        $ref: '#/components/requestBodies/SummarizeConversation'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                title: SummarizeConversationResponse
                $ref: '#/components/schemas/ConversationSummary'
      operationId: SummarizeConversation
components:
  requestBodies:
    AnalyzeABI:
      required: true
      content:
        application/json:
          schema:
            title: AnalyzeABIRequest
            type: object
            properties:
              contract_info:
                $ref: '#/components/schemas/ContractInfo'
              intent:
                type: string
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - contract_info
            additionalProperties: false
    AnalyzeContractForHandlers:
      required: true
      content:
        application/json:
          schema:
            title: AnalyzeContractForHandlersRequest
            type: object
            properties:
              contract_info:
                $ref: '#/components/schemas/ContractInfo'
              intent:
                type: string
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - contract_info
            - intent
            additionalProperties: false
    AnalyzeEvent:
      required: true
      content:
        application/json:
          schema:
            title: AnalyzeEventRequest
            type: object
            properties:
              abi_result:
                $ref: '#/components/schemas/ABIAnalysisResult'
              contract_info:
                $ref: '#/components/schemas/ContractInfo'
              intent:
                type: string
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - abi_result
            - contract_info
            additionalProperties: false
    AnalyzeLayout:
      required: true
      content:
        application/json:
          schema:
            title: AnalyzeLayoutRequest
            type: object
            properties:
              abi_result:
                $ref: '#/components/schemas/ABIAnalysisResult'
              contract_info:
                $ref: '#/components/schemas/ContractInfo'
              intent:
                type: string
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - abi_result
            - contract_info
            - intent
            additionalProperties: false
    ExtractResume:
      required: true
      content:
        application/json:
          schema:
            title: ExtractResumeRequest
            type: object
            properties:
              resume:
                type: string
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - resume
            additionalProperties: false
    GenerateForgeScript:
      required: true
      content:
        application/json:
          schema:
            title: GenerateForgeScriptRequest
            type: object
            properties:
              contract_context:
                $ref: '#/components/schemas/ContractInfo'
              user_intent:
                type: string
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - contract_context
            - user_intent
            additionalProperties: false
    GenerateTransactionCalls:
      required: true
      content:
        application/json:
          schema:
            title: GenerateTransactionCallsRequest
            type: object
            properties:
              available_interfaces:
                type: array
                items:
                  $ref: '#/components/schemas/InterfaceDefinition'
              deployed_addresses:
                type: object
                required: []
                additionalProperties:
                  type: string
              operations:
                type: array
                items:
                  $ref: '#/components/schemas/Operation'
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - available_interfaces
            - deployed_addresses
            - operations
            additionalProperties: false
    SummarizeConversation:
      required: true
      content:
        application/json:
          schema:
            title: SummarizeConversationRequest
            type: object
            properties:
              messages:
                type: array
                items:
                  $ref: '#/components/schemas/ChatMessage'
              __baml_options__:
                nullable: true
                $ref: '#/components/schemas/BamlOptions'
            required:
            - messages
            additionalProperties: false
  schemas:
    BamlImage:
      oneOf:
      - title: BamlImageBase64
        type: object
        properties:
          base64:
            type: string
          media_type:
            type: string
        required:
        - base64
        additionalProperties: false
      - title: BamlImageUrl
        type: object
        properties:
          url:
            type: string
          media_type:
            type: string
        required:
        - url
        additionalProperties: false
    BamlAudio:
      oneOf:
      - title: BamlAudioBase64
        type: object
        properties:
          base64:
            type: string
          media_type:
            type: string
        required:
        - base64
        additionalProperties: false
      - title: BamlAudioUrl
        type: object
        properties:
          url:
            type: string
          media_type:
            type: string
        required:
        - url
        additionalProperties: false
    BamlPdf:
      oneOf:
      - title: BamlPdfBase64
        type: object
        properties:
          base64:
            type: string
          media_type:
            type: string
        required:
        - base64
        additionalProperties: false
      - title: BamlPdfUrl
        type: object
        properties:
          url:
            type: string
          media_type:
            type: string
        required:
        - url
        additionalProperties: false
    BamlVideo:
      oneOf:
      - title: BamlVideoBase64
        type: object
        properties:
          base64:
            type: string
          media_type:
            type: string
        required:
        - base64
        additionalProperties: false
      - title: BamlVideoUrl
        type: object
        properties:
          url:
            type: string
          media_type:
            type: string
        required:
        - url
        additionalProperties: false
    BamlOptions:
      type: object
      properties:
        client_registry:
          type: object
          properties:
            clients:
              type: array
              items:
                $ref: '#/components/schemas/ClientProperty'
            primary:
              type: string
          required:
          - clients
          additionalProperties: false
      required:
      - client_registry
      additionalProperties: false
    ClientProperty:
      type: object
      properties:
        name:
          type: string
        provider:
          type: string
        options:
          type: object
          required: []
          additionalProperties: true
      required:
      - name
      - provider
      - options
      additionalProperties: false
    Check:
      type: object
      properties:
        name:
          type: string
        expr:
          type: string
        status:
          type: string
      required:
      - name
      - expr
      additionalProperties: false
    ABIAnalysisResult:
      type: object
      properties:
        events:
          type: array
          items:
            $ref: '#/components/schemas/EventInfo'
        retrievals:
          type: array
          items:
            $ref: '#/components/schemas/CallableRetrieval'
        summary:
          type: string
      required:
      - events
      - retrievals
      - summary
      additionalProperties: false
    AccessControlConfig:
      type: object
      properties:
        event_signature:
          type: string
        pick_role_members:
          type: string
        role_names:
          type: object
          required: []
          additionalProperties:
            type: string
      required:
      - event_signature
      additionalProperties: false
    AccessControlHandlerConfig:
      type: object
      properties:
        ignoreRelative:
          type: boolean
        pickRoleMembers:
          type: string
        roleNames:
          type: object
          required: []
          additionalProperties:
            type: string
        type:
          type: string
      required:
      - type
      additionalProperties: false
    CallHandlerConfig:
      type: object
      properties:
        address:
          type: string
        args:
          type: array
          items:
            type: string
        expectRevert:
          type: boolean
        ignoreRelative:
          type: boolean
        method:
          type: string
        type:
          type: string
      required:
      - method
      - type
      additionalProperties: false
    CallableRetrieval:
      type: object
      properties:
        function_signature:
          type: string
        name:
          type: string
        notes:
          type: string
        parameter_types:
          type: array
          items:
            type: string
        requires_parameters:
          type: boolean
        return_type:
          type: string
      required:
      - function_signature
      - name
      - requires_parameters
      - return_type
      additionalProperties: false
    ChatMessage:
      type: object
      properties:
        content:
          type: string
        role:
          type: string
      required:
      - content
      - role
      additionalProperties: false
    ContractAnalysis:
      type: object
      properties:
        handlers:
          type: array
          items:
            $ref: '#/components/schemas/FieldHandler'
        patternDetected:
          type: string
        summary:
          type: string
      required:
      - handlers
      - summary
      additionalProperties: false
    ContractInfo:
      type: object
      properties:
        abi:
          type: string
        address:
          type: string
        description:
          type: string
        source_code:
          type: string
      required: []
      additionalProperties: false
    ConversationSummary:
      type: object
      properties:
        current_state:
          type: string
        key_details:
          type: array
          items:
            type: string
        main_topic:
          type: string
        user_friendly_summary:
          type: string
      required:
      - current_state
      - key_details
      - main_topic
      - user_friendly_summary
      additionalProperties: false
    DynamicArrayHandlerConfig:
      type: object
      properties:
        ignoreRelative:
          type: boolean
        returnType:
          type: string
        slot:
          type: string
        type:
          type: string
      required:
      - slot
      - type
      additionalProperties: false
    EventAction:
      type: object
      properties:
        action_description:
          type: string
        field_name:
          type: string
        handler:
          oneOf:
          - $ref: '#/components/schemas/EventHandlerConfig'
          - $ref: '#/components/schemas/AccessControlConfig'
      required:
      - action_description
      - field_name
      - handler
      additionalProperties: false
    EventAnalyzeResult:
      type: object
      properties:
        detected_constants:
          type: object
          required: []
          additionalProperties:
            type: string
        event_actions:
          type: array
          items:
            $ref: '#/components/schemas/EventAction'
        proxy_pattern:
          type: string
        summary:
          type: string
        warnings:
          type: array
          items:
            type: string
      required:
      - event_actions
      - summary
      additionalProperties: false
    EventHandlerConfig:
      type: object
      properties:
        add:
          $ref: '#/components/schemas/EventOperation'
        event_signature:
          type: string
        remove:
          $ref: '#/components/schemas/EventOperation'
        return_type:
          type: string
        select_field:
          type: string
      required:
      - return_type
      - select_field
      additionalProperties: false
    EventInfo:
      type: object
      properties:
        description:
          type: string
        event_signature:
          type: string
        query_fields:
          type: array
          items:
            type: string
      required:
      - description
      - event_signature
      - query_fields
      additionalProperties: false
    EventOperation:
      type: object
      properties:
        event_signature:
          type: string
        where:
          type: array
          items:
            type: string
      required:
      - event_signature
      additionalProperties: false
    FieldHandler:
      type: object
      properties:
        config:
          oneOf:
          - $ref: '#/components/schemas/CallHandlerConfig'
          - $ref: '#/components/schemas/StorageHandlerConfig'
          - $ref: '#/components/schemas/EventHandlerConfig'
          - $ref: '#/components/schemas/AccessControlHandlerConfig'
          - $ref: '#/components/schemas/DynamicArrayHandlerConfig'
        description:
          type: string
        fieldName:
          type: string
      required:
      - config
      - fieldName
      additionalProperties: false
    FunctionSignature:
      type: object
      properties:
        name:
          type: string
        signature:
          type: string
      required:
      - name
      - signature
      additionalProperties: false
    GeneratedScript:
      type: object
      properties:
        interfaces_needed:
          type: array
          items:
            $ref: '#/components/schemas/InterfaceDefinition'
        transaction_calls:
          type: array
          items:
            $ref: '#/components/schemas/TransactionCall'
      required:
      - interfaces_needed
      - transaction_calls
      additionalProperties: false
    InterfaceDefinition:
      type: object
      properties:
        functions:
          type: array
          items:
            $ref: '#/components/schemas/FunctionSignature'
        name:
          type: string
        solidity_code:
          type: string
        source:
          enum:
          - ForgeStd
          - Inline
          $ref: '#/components/schemas/InterfaceSource'
      required:
      - functions
      - name
      - source
      additionalProperties: false
    InterfaceSource:
      enum:
      - ForgeStd
      - Inline
      type: string
    LayoutAnalysisResult:
      type: object
      properties:
        contract_name:
          type: string
        detected_constants:
          type: object
          required: []
          additionalProperties:
            type: string
        inheritance:
          type: string
        proxy_pattern:
          type: string
        slots:
          type: array
          items:
            $ref: '#/components/schemas/SlotInfo'
        solidity_version:
          type: string
        summary:
          type: string
        warnings:
          type: array
          items:
            type: string
      required:
      - contract_name
      - inheritance
      - slots
      - summary
      additionalProperties: false
    Operation:
      type: object
      properties:
        abi:
          type: string
        contract_address:
          type: string
        contract_name:
          type: string
        eth_value:
          type: string
        function_name:
          type: string
        parameters:
          type: array
          items:
            $ref: '#/components/schemas/Parameter'
      required:
      - abi
      - contract_address
      - function_name
      - parameters
      additionalProperties: false
    Parameter:
      type: object
      properties:
        name:
          type: string
        param_type:
          type: string
        value:
          type: string
      required:
      - name
      - param_type
      - value
      additionalProperties: false
    Resume:
      type: object
      properties:
        email:
          type: string
        experience:
          type: array
          items:
            type: string
        name:
          type: string
        skills:
          type: array
          items:
            type: string
      required:
      - email
      - experience
      - name
      - skills
      additionalProperties: false
    SlotInfo:
      type: object
      properties:
        base_slot:
          type: string
        getter_signature:
          type: string
        name:
          type: string
        notes:
          type: string
        offset:
          type: integer
        type:
          type: string
      required:
      - name
      - type
      additionalProperties: false
    StorageHandlerConfig:
      type: object
      properties:
        ignoreRelative:
          type: boolean
        offset:
          type: integer
        returnType:
          type: string
        slot:
          type: string
        type:
          type: string
      required:
      - slot
      - type
      additionalProperties: false
    StorageParam:
      type: object
      properties:
        address:
          type: string
        name:
          type: string
        slot:
          type: string
      required:
      - address
      - name
      - slot
      additionalProperties: false
    TransactionCall:
      type: object
      properties:
        description:
          type: string
        solidity_code:
          type: string
      required:
      - description
      - solidity_code
      additionalProperties: false
