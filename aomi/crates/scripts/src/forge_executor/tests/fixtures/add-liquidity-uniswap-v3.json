{
  "name": "add-liquidity-uniswap-v3",
  "description": "Add liquidity to a Uniswap V3 USDC/WETH pool and receive LP NFT position",
  "groups": [
    {
      "description": "Wrap ETH to WETH for liquidity provision",
      "operations": [
        "Wrap 0.5 ETH to WETH using function deposit() of IWETH interface [value: 0.5 ether]"
      ],
      "dependencies": [],
      "contracts": [
        {
          "chain_id": "1",
          "address": "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
          "name": "WETH"
        }
      ]
    },
    {
      "description": "Swap 0.25 ETH for USDC to have both tokens for LP",
      "operations": [
        "Swap 0.25 ETH for USDC using function exactInputSingle(ExactInputSingleParams memory params) of ISwapRouter interface [value: 0.25 ether, params: tokenIn=0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2, tokenOut=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48, fee=3000, recipient=msg.sender, deadline=block.timestamp, amountIn=0.25 ether, amountOutMinimum=0, sqrtPriceLimitX96=0]"
      ],
      "dependencies": [0],
      "contracts": [
        {
          "chain_id": "1",
          "address": "0xE592427A0AEce92De3Edee1F18E0157C05861564",
          "name": "SwapRouter"
        },
        {
          "chain_id": "1",
          "address": "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
          "name": "WETH"
        },
        {
          "chain_id": "1",
          "address": "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",
          "name": "USDC"
        }
      ]
    },
    {
      "description": "Add liquidity to Uniswap V3 USDC/WETH pool and receive NFT position",
      "operations": [
        "Get WETH balance using function balanceOf(address account) of IERC20 interface [account: msg.sender] and store the result in variable wethAmount",
        "Get USDC balance using function balanceOf(address account) of IERC20 interface [account: msg.sender] and store the result in variable usdcAmount",
        "Approve WETH for NonfungiblePositionManager using function approve(address spender, uint256 amount) of IERC20 interface [spender: 0xC36442b4a4522E871399CD717aBDD847Ab11FE88, amount: wethAmount]",
        "Approve USDC for NonfungiblePositionManager using function approve(address spender, uint256 amount) of IERC20 interface [spender: 0xC36442b4a4522E871399CD717aBDD847Ab11FE88, amount: usdcAmount]",
        "Mint liquidity position using function mint(MintParams calldata params) of INonfungiblePositionManager interface [params: token0=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48, token1=0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2, fee=3000, tickLower=-887220, tickUpper=887220, amount0Desired=usdcAmount, amount1Desired=wethAmount, amount0Min=0, amount1Min=0, recipient=msg.sender, deadline=block.timestamp] and store the tokenId in variable positionTokenId"
      ],
      "dependencies": [1],
      "contracts": [
        {
          "chain_id": "1",
          "address": "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",
          "name": "USDC"
        },
        {
          "chain_id": "1",
          "address": "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
          "name": "WETH"
        },
        {
          "chain_id": "1",
          "address": "0xC36442b4a4522E871399CD717aBDD847Ab11FE88",
          "name": "NonfungiblePositionManager"
        }
      ]
    }
  ]
}
